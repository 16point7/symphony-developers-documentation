{"openapi":"3.0.1","info":{"title":"Symphony Channel Connect Service","description":"Channel Connect allows partners to enable the users of their applications to collaborate on Symphony by adding those companies and users to the Symphony network. Partners can use these APIs to check if their application users are on Symphony and if not create accounts for them. \n\nThis page describes the APIs available for the partners to look up, add and manage their users on Symphony. \n\nBefore they can use these endpoints, partners must register with Symphony. After registration, the partner will receive credentials to authenticate to these APIs. \n\nTo register as a Symphony partner in order to create new users and to embed Symphony within your application, please contact us.\n","version":"V2.0.0"},"servers":[{"url":"https://community.uat.symphony.com","description":"Symphony Channel Connect"}],"security":[{"bearerAuth":[]}],"tags":[{"name":"Symphony Connect API","description":"Symphony Connect API allows Symphony partners to onboard and manage companies and users."}],"paths":{"/api/v2/companies":{"get":{"tags":["Symphony Connect API"],"summary":"Search companies","description":"Retrieve a company or the complete list of companies. \n\nIf the 'vanityName' is passed as a query parameter the company matching this name is returned. \n\nIf no query parameter is passed, the complete list of companies is returned.\n","operationId":"getCompanies","parameters":[{"name":"vanityName","in":"query","description":"Vanity name of the company","required":false,"schema":{"maxLength":150,"minLength":2,"type":"string","description":"Vanity name of the company","example":"lyondell"},"example":"lyondell"}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Company"}}}}}}},"post":{"tags":["Symphony Connect API"],"summary":"Create company","description":"The creation of a company in Symphony is done in asynchronously in the background.\nWhen this call returns the state of the company will be STARTED. Please allow approximately 20 min for the company to be fully provisioned.\nTo verify the current status of the company you can poll the 'retrieve company' endpoint using the returned id.\n","operationId":"createCompany","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Company"}}},"required":true},"responses":{"202":{"description":"Accepted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Company"}}}}}}},"/api/v2/companies/{companyId}/users":{"get":{"tags":["Symphony Connect API"],"summary":"Retrieve company users","description":"Retrieves users of a given company. Results are paginated by user creation date. \n\nAn initial query should be done without specifying any paging query parameters to retrieve the total number of rows. \n\nPage size is configurable, with a maximum size of 100 users. \n\n","operationId":"getUsers","parameters":[{"name":"companyId","in":"path","description":"Id of the company","required":true,"schema":{"type":"string"},"example":"e176c55e-6e49-4819-b982-12e0535db5f0"},{"name":"currentPage","in":"query","description":"Current page","required":false,"schema":{"minimum":0,"type":"integer","format":"int32","default":0},"example":5},{"name":"pageSize","in":"query","description":"Page size","required":false,"schema":{"maximum":100,"minimum":1,"type":"integer","format":"int32","default":100},"example":50}],"responses":{"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"examples":{"Invalid query parameters":{"description":"Invalid query parameters","value":{"type":"about:blank","title":"BAD_REQUEST","status":400,"detail":"getUsers.arg2: page size must be between 1 and 100","instance":"/api/v2/companies/e176c55e-6e49-4819-b982-12e0535db5f0/users","timestamp":"2023-12-27T11:37:49.796115500Z","X-Trace-Id":"Jva4J2"}}}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPage"},"examples":{"Users paging response":{"description":"Users paging response","value":{"total":150,"pageSize":1,"currentPage":10,"users":[{"id":"e176c55e-6e49-4819-b982-12e0535db5f0","createdAt":"2023-12-22T08:53:39.269539Z","updatedAt":"2023-12-20T10:59:54.516494Z","symphonyUserId":691867691778058,"email":"john.smith@symphony.com","firstName":"John","lastName":"Smith","displayName":"John Smith","phoneNumber":"+33 1 09 75 83 51","department":"Order Processing","title":"Mr.","location":"Sophia Antipolis"}]}}}}}}}},"post":{"tags":["Symphony Connect API"],"summary":"Create users","description":"  Create users in a given company. Up to 20 users can be created in one API call.\n","operationId":"createUsers","parameters":[{"name":"companyId","in":"path","description":"Id of the company","required":true,"schema":{"type":"string"},"example":"e176c55e-6e49-4819-b982-12e0535db5f0"}],"requestBody":{"content":{"application/json":{"schema":{"maxItems":20,"minItems":1,"type":"array","items":{"$ref":"#/components/schemas/User"}}}},"required":true},"responses":{"400":{"description":"Possible reasons specified by detailErrorCode \n\n - 40102: Company does not exist, or is not in 'completed' state. \n\n","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"examples":{"Company not found":{"description":"Company not found","value":{"type":"about:blank","title":"Not Found","status":404,"detail":"Company is not found, or is not in 'completed' state.","instance":"/api/v2/companies/e0ee004b-eb21-408f-9ed1-8cb676515b57/users","timestamp":"2023-12-26T12:13:32.401270300Z","detailErrorCode":"40102","X-Trace-Id":"Jva4J2"}}}}}},"207":{"description":"Creation of some users can fail. The individual error is associated to every user request.\n\nPossible reasons specified by detailErrorCode \n\n- 40001: User email address is not allowed for that company. \n\n- 40002: A user with the same email address already exists. \n\n","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}},"examples":{"Partially created users":{"description":"Partially created users","value":[{"id":"e176c55e-6e49-4819-b982-12e0535db5f0","createdAt":"2023-12-22T08:53:39.269539Z","updatedAt":"2023-12-20T10:59:54.516494Z","symphonyUserId":695234946138125,"email":"john.smith@symphony.com","firstName":"John","lastName":"Smith","displayName":"John Smith","active":true,"phoneNumber":"+33 1 09 75 83 51","department":"Order Processing","title":"Mr.","location":"Sophia Antipolis","status":201},{"id":null,"createdAt":null,"updatedAt":null,"status":400,"error":{"title":"Bad Request","status":400,"detail":"User's email address is not allowed for this company. It must be one of: symphony.com","detailErrorCode":"40001"},"email":"AdeleV@gmail.com","firstName":"Adele","lastName":"Vance","displayName":"Adele Vance","active":null,"phoneNumber":null,"department":null,"title":null,"location":null}]}}}}},"201":{"description":"All users are successfully created.\n","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}},"examples":{"All users successfully created":{"description":"All users successfully created","value":[{"id":"e176c55e-6e49-4819-b982-12e0535db5f0","createdAt":"2023-12-22T08:53:39.269539Z","updatedAt":"2023-12-20T10:59:54.516494Z","symphonyUserId":695234946138125,"email":"john.smith@symphony.com","firstName":"John","lastName":"Smith","displayName":"John Smith","active":true,"phoneNumber":"+33 1 09 75 83 51","department":"Order Processing","title":"Mr.","location":"Sophia Antipolis","status":201},{"id":"e176c55e-6e49-4819-b982-12e0535db5f0","createdAt":"2023-12-22T08:53:39.269539Z","updatedAt":"2023-12-20T10:59:54.516494Z","symphonyUserId":691867691778059,"email":"AdeleV@symphony.com","firstName":"Adele","lastName":"Vance","displayName":"Adele Vance","active":true,"phoneNumber":"+33 1 09 75 83 51","department":"Order Processing","title":"Mr.","location":"Sophia Antipolis","status":201}]}}}}}}}},"/api/v2/companies/{companyId}":{"get":{"tags":["Symphony Connect API"],"summary":"Retrieve company","description":"  Retrieve the details of a company, including the creation status. \n\n  When the status is COMPLETED the company is ready to be used, and users can be created on it.\n\n  If the state is not STARTED or COMPLETED, please contact Symphony for support.\n","operationId":"getCompanyStatus","parameters":[{"name":"companyId","in":"path","description":"Id of the company","required":true,"schema":{"type":"string"},"example":"e176c55e-6e49-4819-b982-12e0535db5f0"}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Company"}}}}}},"patch":{"tags":["Symphony Connect API"],"summary":"Update company","description":"Update company to add additional email domains.\n","operationId":"updateCompany","parameters":[{"name":"companyId","in":"path","description":"Id of the company","required":true,"schema":{"type":"string"},"example":"e176c55e-6e49-4819-b982-12e0535db5f0"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompanyUpdate"}}},"required":true},"responses":{"404":{"description":"Possible reasons specified by detailErrorCode \n\n - 40102: Company does not exist, or is not in 'completed' state. \n\n - 40103: Company email domains are already taken. \n\n","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"examples":{"Company not found":{"description":"Company not found","value":{"type":"about:blank","title":"Not Found","status":404,"detail":"Company is not found, or is not in 'completed' state.","instance":"/api/v2/companies/e0ee004b-eb21-408f-9ed1-8cb676515b57/users/5bec2e8b-da45-46c7-9370-5669de1b1a78","timestamp":"2023-12-26T12:13:32.401270300Z","detailErrorCode":"40102","X-Trace-Id":"Jva4J2"}}}}}},"304":{"description":"Company email domains are not modified. The company already contains the list of email domains.\n"},"200":{"description":"Company email domains successfully updated\n"}}}},"/api/v2/companies/{companyId}/users/{userId}":{"get":{"tags":["Symphony Connect API"],"summary":"Retrieve user","description":"Retrieves a user of a given company by providing the user id.\n","operationId":"getUser","parameters":[{"name":"companyId","in":"path","description":"Id of the company","required":true,"schema":{"type":"string"},"example":"e176c55e-6e49-4819-b982-12e0535db5f0"},{"name":"userId","in":"path","description":"Id of the user","required":true,"schema":{"type":"string"},"example":"5bec2e8b-da45-46c7-9370-5669de1b1a78"}],"responses":{"404":{"description":"Possible reasons specified by detailErrorCode \n\n - 40102: Company does not exist, or is not in 'completed' state. \n\n - 40106: User is not found, or does not belong to the company. \n\n","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"examples":{"Company not found":{"description":"Company not found","value":{"type":"about:blank","title":"Not Found","status":404,"detail":"Company is not found, or is not in 'completed' state.","instance":"/api/v2/companies/e0ee004b-eb21-408f-9ed1-8cb676515b57/users/5bec2e8b-da45-46c7-9370-5669de1b1a78","timestamp":"2023-12-26T12:13:32.401270300Z","detailErrorCode":"40102","X-Trace-Id":"Jva4J2"}}}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"},"examples":{"Users successfully retrieved":{"description":"Users successfully retrieved","value":{"id":"e176c55e-6e49-4819-b982-12e0535db5f0","createdAt":"2023-12-22T08:53:39.269539Z","updatedAt":"2023-12-20T10:59:54.516494Z","symphonyUserId":695234946138125,"email":"john.smith@symphony.com","firstName":"John","lastName":"Smith","displayName":"John Smith","active":true,"phoneNumber":"+33 1 09 75 83 51","department":"Order Processing","title":"Mr.","location":"Sophia Antipolis","status":201}}}}}}}},"patch":{"tags":["Symphony Connect API"],"summary":"Update user status","description":"Enable or disable a specific user account.\n","operationId":"updateUser","parameters":[{"name":"companyId","in":"path","description":"Id of the company","required":true,"schema":{"type":"string"},"example":"e176c55e-6e49-4819-b982-12e0535db5f0"},{"name":"userId","in":"path","description":"Id of the user","required":true,"schema":{"type":"string"},"example":"5bec2e8b-da45-46c7-9370-5669de1b1a78"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}},"required":true},"responses":{"200":{"description":"User status successfully updated\n","content":{"application/json":{}}},"404":{"description":"Possible reasons specified by detailErrorCode \n\n - 40102: Company does not exist, or is not in 'completed' state. \n\n - 40106: User is not found, or does not belong to the company. \n\n","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProblemDetail"},"examples":{"Company not found":{"description":"Company not found","value":{"type":"about:blank","title":"Not Found","status":404,"detail":"Company is not found, or is not in 'completed' state.","instance":"/api/v2/companies/e0ee004b-eb21-408f-9ed1-8cb676515b57/users/5bec2e8b-da45-46c7-9370-5669de1b1a78","timestamp":"2023-12-26T12:13:32.401270300Z","detailErrorCode":"40102","X-Trace-Id":"Jva4J2"}}}}}}}}}},"components":{"schemas":{"Company":{"required":["emailDomains","name","vanityName"],"type":"object","properties":{"id":{"type":"string","description":"Unique identifier","readOnly":true,"example":"e176c55e-6e49-4819-b982-12e0535db5f0"},"createdAt":{"type":"string","description":"Creation date","format":"date-time","readOnly":true,"example":"2023-12-22T08:53:39.269539Z"},"updatedAt":{"type":"string","description":"Last update date","format":"date-time","readOnly":true,"example":"2023-12-20T10:59:54.516494Z"},"name":{"maxLength":100,"minLength":2,"type":"string","description":"Name of the company","example":"Lyondell"},"vanityName":{"maxLength":63,"minLength":2,"pattern":"[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?","type":"string","description":"Vanity name of the company will generate the public url of the tenant","example":"lyondell"},"emailDomains":{"maxItems":10,"minItems":1,"type":"array","description":"List of email domains with which users can be registered to the tenant","example":["lyondell.com"],"items":{"type":"string","description":"List of email domains with which users can be registered to the tenant","example":"[\"lyondell.com\"]"}},"publicUrl":{"type":"string","description":"The Symphony public url of the company","readOnly":true,"example":"https://lyondell.on.symphony.com"},"state":{"type":"string","description":"The state of the company to indicate if the creation is completed","readOnly":true,"example":"STARTED","enum":["STARTED","TENANT_CREATED","TENANT_CREATION_ERROR","AUTH0_CONFIG_ERROR","TENANT_CONFIG_ERROR","COMPLETED"]},"errorMessage":{"type":"string","description":"Message providing additional information about the company creation error","readOnly":true,"example":"Please contact Symphony support by providing the X-Trace-Id = KUfkYm"}}},"ProblemDetail":{"type":"object","properties":{"type":{"type":"string","format":"uri"},"title":{"type":"string"},"status":{"type":"integer","format":"int32"},"detail":{"type":"string"},"instance":{"type":"string","format":"uri"},"properties":{"type":"object","additionalProperties":{"type":"object"}}},"description":"Detailed error information","readOnly":true},"User":{"required":["email","firstName","lastName"],"type":"object","properties":{"id":{"type":"string","description":"Unique identifier","readOnly":true,"example":"e176c55e-6e49-4819-b982-12e0535db5f0"},"createdAt":{"type":"string","description":"Creation date","format":"date-time","readOnly":true,"example":"2023-12-22T08:53:39.269539Z"},"updatedAt":{"type":"string","description":"Last update date","format":"date-time","readOnly":true,"example":"2023-12-20T10:59:54.516494Z"},"symphonyUserId":{"type":"integer","description":"Symphony user id","format":"int64","readOnly":true,"example":691867691778058},"status":{"type":"integer","description":"Individual http status code","format":"int32","readOnly":true,"example":201},"error":{"$ref":"#/components/schemas/ProblemDetail"},"email":{"type":"string","description":"User's email address","example":"john.smith@symphony.com"},"firstName":{"type":"string","description":"User's first name","example":"John"},"lastName":{"type":"string","description":"User's last name","example":"Smith"},"displayName":{"type":"string","description":"User's display name, if not provided it is a concatenation of the first name and the last name","example":"John Smith"},"active":{"type":"boolean","description":"User's phone number","example":false},"phoneNumber":{"type":"string","description":"User's status on Symphony","example":"true"},"department":{"type":"string","description":"User's department","example":"Order Processing"},"title":{"type":"string","description":"User's title","example":"Mr."},"location":{"type":"string","description":"User's location","example":"Sophia Antipolis"}}},"CompanyUpdate":{"required":["emailDomains"],"type":"object","properties":{"emailDomains":{"maxItems":10,"minItems":1,"type":"array","description":"List of email domains with which users can be registered to the tenant","example":["lyondell.com"],"items":{"type":"string","description":"List of email domains with which users can be registered to the tenant","example":"[\"lyondell.com\"]"}}}},"UserUpdate":{"required":["active"],"type":"object","properties":{"active":{"type":"boolean","description":"Active"}}},"UserPage":{"type":"object","properties":{"total":{"type":"integer","description":"Total number of record","format":"int64","readOnly":true,"example":300},"pageSize":{"type":"integer","description":"Number of records records returned on one page","format":"int32","readOnly":true,"example":20},"currentPage":{"type":"integer","description":"The current page number, starting from zero","format":"int32","readOnly":true,"example":0},"users":{"type":"array","description":"Collection of users","readOnly":true,"items":{"$ref":"#/components/schemas/User"}}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}